<?xml version="1.0" encoding="UTF-8"?>
<block name='chapter'>
<field name='title'>
<![CDATA[
MkTreapAugTable
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
MkTreapAugTable
]]>
</field> <!-- title_src -->
<field name='label'>
ch:treap-aug-table
</field> <!-- label -->
<atom name='preamble'>
<field name='title'>
<![CDATA[
...NOT.PROVIDED.TITLE...
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
...NOT.PROVIDED.TITLE...
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<field name='body'>
<![CDATA[
<p>Implements augmented, ordered tables (and ordered sets) as treaps.</p>
<pre><code>functor MkTreapAugTable  
  (structure Key : HASHKEY  
   structure Val : MONOID)  
  :&gt; AUG_ORDTABLE where Key = Key and Val = Val and Seq = ArraySequence  </code></pre>
]]>
</field> <!-- body -->
<field name='body_src'>
<![CDATA[
Implements augmented, ordered tables (and ordered sets) as treaps.
\begin{verbatim}
functor MkTreapAugTable
  (structure Key : HASHKEY
   structure Val : MONOID)
  :> AUG_ORDTABLE where Key = Key and Val = Val and Seq = ArraySequence
\end{verbatim}
]]>
</field> <!-- body_src -->
</atom> <!-- preamble -->
<atom name='gram'>
<field name='title'>
<![CDATA[
Implementation-Defined Behavior
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
Implementation-Defined Behavior
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<field name='body'>
<![CDATA[
<p>Functions <code>range</code> and <code>toSeq</code> produce elements in key-sorted order.</p>
]]>
</field> <!-- body -->
<field name='body_src'>
<![CDATA[
Functions \sml{range} and \sml{toSeq} produce elements in key-sorted order.
]]>
</field> <!-- body_src -->
</atom> <!-- gram -->

<block name='section'>
<field name='title'>
<![CDATA[
Cost Specification
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
Cost Specification
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<atom name='gram'>
<field name='title'>
<![CDATA[
...NOT.PROVIDED.TITLE...
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
...NOT.PROVIDED.TITLE...
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<field name='body'>
<![CDATA[
<p>The following costs assume that the work and span of <code>Key.compare</code>, <code>Key.hash</code>, and <code>Val.f</code> are constant.</p>
]]>
</field> <!-- body -->
<field name='body_src'>
<![CDATA[
The following costs assume that the work and span of \sml{Key.compare},
\sml{Key.hash}, and \sml{Val.f} are constant.
]]>
</field> <!-- body_src -->
</atom> <!-- gram -->
<atom name='gram'>
<field name='title'>
<![CDATA[
...NOT.PROVIDED.TITLE...
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
...NOT.PROVIDED.TITLE...
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<field name='body'>
<![CDATA[
<p>The following costs also apply to the substructure <code>Set</code>, which implements sets as tables without associated values.</p>
]]>
</field> <!-- body -->
<field name='body_src'>
<![CDATA[
The following costs also apply to the substructure \sml{Set}, which implements
sets as tables without associated values.
]]>
</field> <!-- body_src -->
</atom> <!-- gram -->
<atom name='costspec'>
<field name='title'>
<![CDATA[
Reduced Values
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
Reduced Values
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<field name='body'>
<![CDATA[
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"><strong>Work</strong></td>
<td style="text-align: center;"><strong>Span</strong></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{reduceVal}~T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(1\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(1\right)\)</span></td>
</tr>
</tbody>
</table>
]]>
</field> <!-- body -->
<field name='body_src'>
<![CDATA[
\begin{tabular}{c|c|c}
& \textbf{Work} & \textbf{Span} \\
$\sml{reduceVal}~T$ & $\bigO 1$ & $\bigO 1$
\end{tabular}
]]>
</field> <!-- body_src -->
</atom> <!-- costspec -->
<atom name='costspec'>
<field name='title'>
<![CDATA[
Constant-Work Operations
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
Constant-Work Operations
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<field name='body'>
<![CDATA[
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"><strong>Work</strong></td>
<td style="text-align: center;"><strong>Span</strong></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{size}~T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(1\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(1\right)\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\texttt{singleton}~T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(1\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(1\right)\)</span></td>
</tr>
</tbody>
</table>
]]>
</field> <!-- body -->
<field name='body_src'>
<![CDATA[
\begin{tabular}{c|c|c}
& \textbf{Work} & \textbf{Span} \\
$\sml{size}~T$ & $\bigO 1$ & $\bigO 1$ \\
$\sml{singleton}~T$ & $\bigO 1$ & $\bigO 1$ \\
\end{tabular}
]]>
</field> <!-- body_src -->
</atom> <!-- costspec -->
<atom name='costspec'>
<field name='title'>
<![CDATA[
Single-Element Operations
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
Single-Element Operations
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<field name='body'>
<![CDATA[
<p>In the case of <code>insertWith</code>, we assume the cost of <span class="math inline">\(f\)</span> is constant.</p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"><strong>Work</strong></td>
<td style="text-align: center;"><strong>Span</strong></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{find}~T~k\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\texttt{insert}~(T, k)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{insertWith}~f~(T, k)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\texttt{delete}~(T, k)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
</tr>
</tbody>
</table>
]]>
</field> <!-- body -->
<field name='body_src'>
<![CDATA[
In the case of \sml{insertWith}, we assume the cost of $f$ is constant.
\begin{tabular}{c|c|c}
& \textbf{Work} & \textbf{Span} \\
$\sml{find}~T~k$ & $\bigO{\log|T|}$ & $\bigO{\log|T|}$ \\
$\sml{insert}~(T, k)$ & $\bigO{\log|T|}$ & $\bigO{\log|T|}$ \\
$\sml{insertWith}~f~(T, k)$ & $\bigO{\log|T|}$ & $\bigO{\log|T|}$ \\
$\sml{delete}~(T, k)$ & $\bigO{\log|T|}$ & $\bigO{\log|T|}$
\end{tabular}
]]>
</field> <!-- body_src -->
</atom> <!-- costspec -->
<atom name='costspec'>
<field name='title'>
<![CDATA[
Tabulate
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
Tabulate
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<field name='body'>
<![CDATA[
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"><strong>Work</strong></td>
<td style="text-align: center;"><strong>Span</strong></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{tabulate}~f~S\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle\sum_{k \in S} \mathop{\mathcal{W}}\left(f(k)\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|S|\right) + \displaystyle\max_{k \in S} \mathop{\mathcal{S}}\left(f(k)\right)\)</span></td>
</tr>
</tbody>
</table>
]]>
</field> <!-- body -->
<field name='body_src'>
<![CDATA[
\begin{tabular}{c|c|c}
& \textbf{Work} & \textbf{Span} \\
$\sml{tabulate}~f~S$ &
$\displaystyle\sum_{k \in S} \WW {f(k)}$ &
$\bigO{\log|S|} + \displaystyle\max_{k \in S} \SS{f(k)}$
\end{tabular}
]]>
</field> <!-- body_src -->
</atom> <!-- costspec -->
<atom name='costspec'>
<field name='title'>
<![CDATA[
Map
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
Map
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<field name='body'>
<![CDATA[
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"><strong>Work</strong></td>
<td style="text-align: center;"><strong>Span</strong></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{map}~f~T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle\sum_{(k \mapsto v) \in T} \mathop{\mathcal{W}}\left(f(v)\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right) + \displaystyle\max_{(k \mapsto v) \in T} \mathop{\mathcal{S}}\left(f(v)\right)\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\texttt{mapKey}~f~T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle\sum_{(k \mapsto v) \in T} \mathop{\mathcal{W}}\left(f(k,v)\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right) + \displaystyle\max_{(k \mapsto v) \in T} \mathop{\mathcal{S}}\left(f(k,v)\right)\)</span></td>
</tr>
</tbody>
</table>
]]>
</field> <!-- body -->
<field name='body_src'>
<![CDATA[
\begin{tabular}{c|c|c}
& \textbf{Work} & \textbf{Span} \\
$\sml{map}~f~T$ &
$\displaystyle\sum_{(k \mapsto v) \in T} \WW {f(v)}$ &
$\bigO{\log|T|} + \displaystyle\max_{(k \mapsto v) \in T} \SS{f(v)}$
\\
$\sml{mapKey}~f~T$ &
$\displaystyle\sum_{(k \mapsto v) \in T} \WW {f(k,v)}$ &
$\bigO{\log|T|} + \displaystyle\max_{(k \mapsto v) \in T} \SS{f(k,v)}$
\end{tabular}
]]>
</field> <!-- body_src -->
</atom> <!-- costspec -->
<atom name='costspec'>
<field name='title'>
<![CDATA[
Filter
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
Filter
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<field name='body'>
<![CDATA[
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"><strong>Work</strong></td>
<td style="text-align: center;"><strong>Span</strong></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{filter}~p~T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle\sum_{(k \mapsto v) \in T} \mathop{\mathcal{W}}\left(p(v)\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right) + \displaystyle\max_{(k \mapsto v) \in T} \mathop{\mathcal{S}}\left(p(v)\right)\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\texttt{filterKey}~p~T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle\sum_{(k \mapsto v) \in T} \mathop{\mathcal{W}}\left(p(k,v)\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right) + \displaystyle\max_{(k \mapsto v) \in T} \mathop{\mathcal{S}}\left(p(k,v)\right)\)</span></td>
</tr>
</tbody>
</table>
]]>
</field> <!-- body -->
<field name='body_src'>
<![CDATA[
\begin{tabular}{c|c|c}
& \textbf{Work} & \textbf{Span} \\
$\sml{filter}~p~T$ &
$\displaystyle\sum_{(k \mapsto v) \in T} \WW {p(v)}$ &
$\bigO{\log|T|} + \displaystyle\max_{(k \mapsto v) \in T} \SS{p(v)}$
\\
$\sml{filterKey}~p~T$ &
$\displaystyle\sum_{(k \mapsto v) \in T} \WW {p(k,v)}$ &
$\bigO{\log|T|} + \displaystyle\max_{(k \mapsto v) \in T} \SS{p(k,v)}$
\end{tabular}
]]>
</field> <!-- body_src -->
</atom> <!-- costspec -->
<atom name='costspec'>
<field name='title'>
<![CDATA[
Tables From Sequences
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
Tables From Sequences
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<field name='body'>
<![CDATA[
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"><strong>Work</strong></td>
<td style="text-align: center;"><strong>Span</strong></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{fromSeq}~S\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(|S|\log|S|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log^2|S|\right)\)</span></td>
</tr>
</tbody>
</table>
]]>
</field> <!-- body -->
<field name='body_src'>
<![CDATA[
\begin{tabular}{c|c|c}
& \textbf{Work} & \textbf{Span} \\
$\sml{fromSeq}~S$ & $\bigO{|S|\log|S|}$ & $\bigO{\log^2|S|}$
\end{tabular}
]]>
</field> <!-- body_src -->
</atom> <!-- costspec -->
<atom name='costspec'>
<field name='title'>
<![CDATA[
Ordered Table Operations
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
Ordered Table Operations
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<field name='body'>
<![CDATA[
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"><strong>Work</strong></td>
<td style="text-align: center;"><strong>Span</strong></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{first}~T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\texttt{last}~T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{prev}~T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\texttt{next}~T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{rank}~(T, k)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\texttt{split}~(T, k)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{select}~(T, i)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\texttt{splitRank}~(T, i)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{getRange}~T~(k_1, k_2)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\texttt{join}~(T_1, T_2)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log\left(|T_1| + |T_2|\right)\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log\left(|T_1| + |T_2|\right)\right)\)</span></td>
</tr>
</tbody>
</table>
]]>
</field> <!-- body -->
<field name='body_src'>
<![CDATA[
\begin{tabular}{c|c|c}
& \textbf{Work} & \textbf{Span} \\
$\sml{first}~T$ & $\bigO{\log|T|}$ & $\bigO{\log|T|}$ \\
$\sml{last}~T$ & $\bigO{\log|T|}$ & $\bigO{\log|T|}$ \\
$\sml{prev}~T$ & $\bigO{\log|T|}$ & $\bigO{\log|T|}$ \\
$\sml{next}~T$ & $\bigO{\log|T|}$ & $\bigO{\log|T|}$ \\
$\sml{rank}~(T, k)$ & $\bigO{\log|T|}$ & $\bigO{\log|T|}$ \\
$\sml{split}~(T, k)$ & $\bigO{\log|T|}$ & $\bigO{\log|T|}$ \\
$\sml{select}~(T, i)$ & $\bigO{\log|T|}$ & $\bigO{\log|T|}$ \\
$\sml{splitRank}~(T, i)$ & $\bigO{\log|T|}$ & $\bigO{\log|T|}$ \\
$\sml{getRange}~T~(k_1, k_2)$ & $\bigO{\log|T|}$ & $\bigO{\log|T|}$
\\
$\sml{join}~(T_1, T_2)$ &
$\bigO{\log\left(|T_1| + |T_2|\right)}$ &
$\bigO{\log\left(|T_1| + |T_2|\right)}$
\end{tabular}
]]>
</field> <!-- body_src -->
</atom> <!-- costspec -->
<atom name='costspec'>
<field name='title'>
<![CDATA[
Reduce
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
Reduce
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<field name='body'>
<![CDATA[
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"><strong>Work</strong></td>
<td style="text-align: center;"><strong>Span</strong></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{reduce}~f~b~T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{\mathcal{W}}\left(\texttt{Seq.reduce}~f~b~(\texttt{range}~T)\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{\mathcal{S}}\left(\texttt{Seq.reduce}~f~b~(\texttt{range}~T)\right)\)</span></td>
</tr>
</tbody>
</table>
]]>
</field> <!-- body -->
<field name='body_src'>
<![CDATA[
\begin{tabular}{c|c|c}
& \textbf{Work} & \textbf{Span} \\
$\sml{reduce}~f~b~T$ &
$\WW{\sml{Seq.reduce}~f~b~(\sml{range}~T)}$ &
$\SS{\sml{Seq.reduce}~f~b~(\sml{range}~T)}$
\end{tabular}
]]>
</field> <!-- body_src -->
</atom> <!-- costspec -->
<atom name='costspec'>
<field name='title'>
<![CDATA[
Iteration
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
Iteration
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<field name='body'>
<![CDATA[
<p>In the following, <span class="math inline">\((k_i \mapsto v_i)\)</span> is the <span class="math inline">\(i^\text{th}\)</span> smallest key-value pair, and <span class="math inline">\(b_i\)</span> is the result of the iteration after the first <span class="math inline">\(i\)</span> elements, where <span class="math inline">\(b_0 = b\)</span>.</p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"><strong>Work</strong></td>
<td style="text-align: center;"><strong>Span</strong></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{iterate}~f~b~T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle\sum_{i=0}^{|T|-1} \mathop{\mathcal{W}}\left(f(b_i, (k_i, v_i))\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\displaystyle\sum_{i=0}^{|T|-1} \mathop{\mathcal{S}}\left(f(b_i, (k_i, v_i))\right)\)</span></td>
</tr>
</tbody>
</table>
]]>
</field> <!-- body -->
<field name='body_src'>
<![CDATA[
In the following, $(k_i \mapsto v_i)$ is the $i^\text{th}$ smallest key-value
pair, and $b_i$ is the result of the iteration after the first $i$ elements,
where $b_0 = b$.
\begin{tabular}{c|c|c}
& \textbf{Work} & \textbf{Span} \\
$\sml{iterate}~f~b~T$ &
$\displaystyle\sum_{i=0}^{|T|-1} \WW{f(b_i, (k_i, v_i))}$ &
$\displaystyle\sum_{i=0}^{|T|-1} \SS{f(b_i, (k_i, v_i))}$
\end{tabular}
]]>
</field> <!-- body_src -->
</atom> <!-- costspec -->
<atom name='costspec'>
<field name='title'>
<![CDATA[
Combination
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
Combination
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<field name='body'>
<![CDATA[
<p>In the following, assume that the work and span of <span class="math inline">\(f\)</span> is constant, and that <span class="math inline">\(n\)</span> and <span class="math inline">\(m\)</span> are the sizes of the arguments with <span class="math inline">\(m \leq n\)</span>.</p>
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"><strong>Work</strong></td>
<td style="text-align: center;"><strong>Span</strong></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{union}~f~(T_1, T_2)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(m \log\left(\frac n m + 1\right)\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log(n + m)\right)\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\texttt{intersection}~f~(T_1, T_2)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(m \log\left(\frac n m + 1\right)\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log(n + m)\right)\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{difference}~(T_1, T_2)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(m \log\left(\frac n m + 1\right)\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log(n + m)\right)\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\texttt{restrict}~(T, S)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(m \log\left(\frac n m + 1\right)\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log(n + m)\right)\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{subtract}~(T, S)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(m \log\left(\frac n m + 1\right)\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log(n + m)\right)\)</span></td>
</tr>
</tbody>
</table>
]]>
</field> <!-- body -->
<field name='body_src'>
<![CDATA[
In the following, assume that the work and span of $f$ is constant, and that
$n$ and $m$ are the sizes of the arguments with $m \leq n$.
\begin{tabular}{c|c|c}
& \textbf{Work} & \textbf{Span} \\
$\sml{union}~f~(T_1, T_2)$ &
$\bigO{m \log\left(\frac n m + 1\right)}$ &
$\bigO{\log(n + m)}$
\\
$\sml{intersection}~f~(T_1, T_2)$ &
$\bigO{m \log\left(\frac n m + 1\right)}$ &
$\bigO{\log(n + m)}$
\\
$\sml{difference}~(T_1, T_2)$ &
$\bigO{m \log\left(\frac n m + 1\right)}$ &
$\bigO{\log(n + m)}$
\\
$\sml{restrict}~(T, S)$ &
$\bigO{m \log\left(\frac n m + 1\right)}$ &
$\bigO{\log(n + m)}$
\\
$\sml{subtract}~(T, S)$ &
$\bigO{m \log\left(\frac n m + 1\right)}$ &
$\bigO{\log(n + m)}$
\end{tabular}
]]>
</field> <!-- body_src -->
</atom> <!-- costspec -->
<atom name='costspec'>
<field name='title'>
<![CDATA[
Miscellaous
]]>
</field> <!-- title -->
<field name='title_src'>
<![CDATA[
Miscellaous
]]>
</field> <!-- title_src -->
<field name='label'>
...NOT.PROVIDED.LABEL...
</field> <!-- label -->
<field name='body'>
<![CDATA[
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;"></td>
<td style="text-align: center;"><strong>Work</strong></td>
<td style="text-align: center;"><strong>Span</strong></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{toSeq}~T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(|T|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\texttt{domain}~T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(|T|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\texttt{range}~T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(|T|\right)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\mathop{O}\left(\log|T|\right)\)</span></td>
</tr>
</tbody>
</table>
]]>
</field> <!-- body -->
<field name='body_src'>
<![CDATA[
\begin{tabular}{c|c|c}
& \textbf{Work} & \textbf{Span} \\
$\sml{toSeq}~T$ & $\bigO{|T|}$ & $\bigO{\log|T|}$ \\
$\sml{domain}~T$ & $\bigO{|T|}$ & $\bigO{\log|T|}$ \\
$\sml{range}~T$ & $\bigO{|T|}$ & $\bigO{\log|T|}$
\end{tabular}
]]>
</field> <!-- body_src -->
</atom> <!-- costspec -->


</block> <!-- section -->

</block> <!-- chapter -->
